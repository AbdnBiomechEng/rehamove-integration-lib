echo "swiging"; 
swig -python rehamovelib.i;

echo "compiling rehamovelib C sources";
gcc -c rehamovelib.c -fPIC -I ../../hasomed_precompiled/smpt_rm3_gcc_linux_arm_eabihf_static/include/low-level/ -I ../../hasomed_precompiled/smpt_rm3_gcc_linux_arm_eabihf_static/include/general/;

echo "compiling python rehamovelib wrapper";
gcc -c rehamovelib_wrap.c -fPIC -I ../../hasomed_precompiled/smpt_rm3_gcc_linux_arm_eabihf_static/include/low-level/ -I ../../hasomed_precompiled/smpt_rm3_gcc_linux_arm_eabihf_static/include/general/ -I /usr/include/python2.7 ;

echo "linking to generate rehamove.so python librarys";
ld -shared rehamovelib.o rehamovelib_wrap.o -o _rehamovelib.so -L ../../hasomed_precompiled/smpt_rm3_gcc_linux_arm_eabihf_static/lib/ -lsmpt -L /usr/lib/gcc/arm-linux-gnueabihf/6 -lgcc